var lib = require('../lib/deap'),
	assert = require('chai').assert;

describe('shallow clone', function() {
	var shallow = lib.cloneShallow;

	it('should not return a reference to the first argument', function() {
		var a = { burp: 'adurp' },
			result = shallow(a);

		assert.notStrictEqual(result, a);
	});

	it('should copy simple values', function() {
		var a = { s: 'string', n: 1, b: false, a: [], o: {}},
			b = shallow(a);

		assert.deepEqual(b, a);
		assert.equal(b.s, a.s);
		assert.equal(b.n, a.n);
		assert.equal(b.b, a.b);
		assert.strictEqual(b.a, a.a);
		assert.strictEqual(b.o, a.o);
	});

	it('should preserve object references', function() {
		var deep = { foo: 'bar' },
			a = { burp: 'adurp' , nested: deep },
			result = shallow(a);

		assert.strictEqual(result.nested, deep);
	});

	it('should preserve date references', function() {
		var a = { burp: 'adurp', date: new Date() },
			date = a.date;

		var result = shallow(a);

		assert.strictEqual(result.date, date);
	});

	it('should preserve regexp